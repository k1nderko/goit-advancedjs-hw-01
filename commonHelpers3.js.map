{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst emailInput = form.querySelector('[name=\"email\"]');\nconst messageInput = form.querySelector('[name=\"message\"]');\nconst storageKey = \"feedback-form-state\";\n\nconst saveStateToStorage = throttle(() => {\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value\n  };\n  localStorage.setItem(storageKey, JSON.stringify(formState));\n}, 500);\n\nconst fillFormFromStorage = () => {\n  const storedState = localStorage.getItem(storageKey);\n  if (storedState) {\n    const formState = JSON.parse(storedState);\n    emailInput.value = formState.email;\n    messageInput.value = formState.message;\n  }\n};\n\nform.addEventListener('input', saveStateToStorage);\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  console.log({\n    email: emailInput.value,\n    message: messageInput.value\n  });\n  localStorage.removeItem(storageKey);\n  emailInput.value = \"\";\n  messageInput.value = \"\";\n});\n\nfillFormFromStorage();"],"names":["form","emailInput","messageInput","storageKey","saveStateToStorage","throttle","formState","fillFormFromStorage","storedState","event"],"mappings":"mIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,cAAc,gBAAgB,EAChDE,EAAeF,EAAK,cAAc,kBAAkB,EACpDG,EAAa,sBAEbC,EAAqBC,EAAS,IAAM,CACxC,MAAMC,EAAY,CAChB,MAAOL,EAAW,MAClB,QAASC,EAAa,KAC1B,EACE,aAAa,QAAQC,EAAY,KAAK,UAAUG,CAAS,CAAC,CAC5D,EAAG,GAAG,EAEAC,EAAsB,IAAM,CAChC,MAAMC,EAAc,aAAa,QAAQL,CAAU,EACnD,GAAIK,EAAa,CACf,MAAMF,EAAY,KAAK,MAAME,CAAW,EACxCP,EAAW,MAAQK,EAAU,MAC7BJ,EAAa,MAAQI,EAAU,OAChC,CACH,EAEAN,EAAK,iBAAiB,QAASI,CAAkB,EACjDJ,EAAK,iBAAiB,SAAWS,GAAU,CACzCA,EAAM,eAAc,EACpB,QAAQ,IAAI,CACV,MAAOR,EAAW,MAClB,QAASC,EAAa,KAC1B,CAAG,EACD,aAAa,WAAWC,CAAU,EAClCF,EAAW,MAAQ,GACnBC,EAAa,MAAQ,EACvB,CAAC,EAEDK,EAAqB"}